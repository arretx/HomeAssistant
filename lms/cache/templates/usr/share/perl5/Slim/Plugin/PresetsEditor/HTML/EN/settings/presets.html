#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.21
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'name' => '/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html',
        'modtime' => '1249312473',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $_tt_error;
        
        eval { BLOCK: {
#line 1 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $context->process('settings/header.html');
    $output .=  "\n	<style>\n		div.table {\n			display: table;\n		}\n		div.table-row {\n			display: table-row;\n		}\n		.table-cell {\n			display: table-cell;\n			margin-right: 5px;\n			padding-right: 5px;\n		}\n		select.preset-picker {\n			width: 40px;\n		}\n	</style>\n	";
#line 40 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    
    # WRAPPER
    $output .=  do {
        my $output = '';
    $output .=  "\n		<div class=\"table\">\n		";
#line 38 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('presets');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    LOOP:   while (! $_tt_error) {
                $stash->{'preset'} = $_tt_value;
    $output .=  "\n			<div class=\"table-row\">\n				<span class=\"table-cell table-index\">";
#line 22 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $stash->get(['loop', 0, 'count', 0]);
    $output .=  ".</span>\n				<input class=\"table-cell\" type=\"text\" name=\"preset_text_";
#line 23 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $stash->get(['loop', 0, 'count', 0]);
    $output .=  "\" id=\"preset_text_";
#line 23 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $stash->get(['loop', 0, 'count', 0]);
    $output .=  "\" value=\"";
#line 23 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['preset', 0, 'text', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" size=40></input>\n				<input class=\"table-cell\" type=\"text\" name=\"preset_url_";
#line 24 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $stash->get(['loop', 0, 'count', 0]);
    $output .=  "\" id=\"preset_url_";
#line 24 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $stash->get(['loop', 0, 'count', 0]);
    $output .=  "\" value=\"";
#line 24 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['preset', 0, 'URL', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\" size=100></input>\n\n				<select class=\"table-cell preset-picker\" id=\"preset_pick_";
#line 26 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $stash->get(['loop', 0, 'count', 0]);
    $output .=  "\" onchange=\"javascript:pickPreset(";
#line 26 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $stash->get(['loop', 0, 'count', 0]);
    $output .=  ", this);\">\n					<option style=\"text-align: center\" value=\"\">&hellip;</option>\n					";
#line 35 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get('playlistOptions');
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    LOOP:   while (! $_tt_error) {
                $stash->{'playlistType'} = $_tt_value;
    $output .=  "\n					<optgroup label=\"";
#line 29 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $stash->get(['playlistType', 0, 'type', 0]);
    $output .=  "\">\n						";
#line 33 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    
    # FOREACH 
    do {
        my ($_tt_value, $_tt_error, $_tt_oldloop);
        my $_tt_list = $stash->get(['playlistType', 0, 'items', 0]);
        
        unless (UNIVERSAL::isa($_tt_list, 'Template::Iterator')) {
            $_tt_list = Template::Config->iterator($_tt_list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($_tt_value, $_tt_error) = $_tt_list->get_first();
        eval { $_tt_oldloop = $stash->get('loop') };
        $stash->set('loop', $_tt_list);
        eval {
    LOOP:   while (! $_tt_error) {
                $stash->{'playlist'} = $_tt_value;
    $output .=  "\n							";
    $output .=  "\n							<option value=\"";
#line 32 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['playlist', 0, 'url', 0]);
        
        &$_tt_filter($output);
    };
    
    $output .=  "\">";
#line 32 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $stash->get(['playlist', 0, 'title', 0]);
    $output .=  "</option>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "					</optgroup>";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "				</select>\n			</div>\n		";;
                ($_tt_value, $_tt_error) = $_tt_list->get_next();
            }
        };
        $stash->set('loop', $_tt_oldloop);
        die $@ if $@;
        $_tt_error = 0 if $_tt_error && $_tt_error eq Template::Constants::STATUS_DONE;
        die $_tt_error if $_tt_error;
    };
    
    $output .=  "\n		</div>\n	";
        $context->include('setting', { 'title' => 'PLUGIN_PRESETS_EDITOR', 'desc' => 'PLUGIN_PRESETS_EDITOR_DESC', 'content', $output }); 
    };
    
    $output .=  "\n\n	<script>\n		var url2name = ";
#line 43 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $_tt_filter = $context->filter('utf8decode')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('urlToName');
        
        &$_tt_filter($output);
    };
    
    $output .=  ";\n		pickPreset = function(preset, picker) {\n			if (picker.value) {\n				document.getElementById(\"preset_text_\" + preset).value = url2name[picker.value] || \"\";\n				document.getElementById(\"preset_url_\" + preset).value = picker.value;\n			}\n\n			document.getElementById(\"preset_pick_\" + preset).getElementsByTagName('option')[0].selected = 'selected'\n		}\n	</script>\n";
#line 53 "/usr/share/perl5/Slim/Plugin/PresetsEditor/HTML/EN/settings/presets.html"
    $output .=  $context->process('settings/footer.html');
        } };
        if ($@) {
            $_tt_error = $context->catch($@, \$output);
            die $_tt_error unless $_tt_error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
